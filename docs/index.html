<!DOCTYPE html><html><head><title>SMS API C# Tutorial- RingCentral Developer Tutorials</title><style>body, html {
  height:100%;
  width:100%;
  padding:0;
  margin:0;
  overflow:hidden;
  background-color:#ddd;
}
.wrapper {
  height:100%;
  width:100%;
}</style><link rel="shortcut icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="72x72" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="114x114" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/jquery-ui@1.12.1/themes/base/all.css"><link rel="stylesheet" href="viewsaurus.css"></head><body><div class="wrapper"><div class="dpw-header-container"><div class="dpw-header center-section"><div class="logo"><a href="https://developers.ringcentral.com" class="logo-link"></a></div><div class="nav-top-menus"></div><div class="dpw-login-section"><a href="https://developer.ringcentral.com/login.html#/">Sign in | Sign up</a></div></div></div><div id="viewsaurus" data-title="SMS API C# Tutorial"><div class="saurus-panes"><div class="saurus-panes-header"><a href="https://ringcentral.github.io/tutorials/" class="saurus-back-to-tutorials">Tutorials</a><span>&gt;</span><span>SMS API C# Tutorial</span></div><div class="saurus-prose"><div class="saurus-nav-buttons"><div class="saurus-nav-button nav-overview"><div class="saurus-nav-button-inner"><i class="fa fa-fw icon-menu"></i></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-previous"><div class="saurus-nav-button-inner"><a href=""> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-next clickable"><div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div></div><div class="saurus-next-title"><span class="next-title-inner"></span></div></div><div class="saurus-progress-bar"></div><div class="saurus-start"><p>A tutorial to teach users to use RingCentral SMS API. Click the &quot;Start&quot; button below to start the tutorial.</p><a href="#0">Start Tutorial</a></div><div class="saurus-content"><style>ul {
  list-style-type: disc;
  list-style-position: inside;
}
ol {
  list-style-type: decimal;
  list-style-position: inside;
}
#viewsaurus menu, #viewsaurus ol, #viewsaurus ul {
    padding: 0 0 0 15px;
}
#viewsaurus .saurus-prose {
  width: 40%;
}
#viewsaurus .saurus-code {
  left: 40%;
}
#viewsaurus .saurus-prose a.btn,
#viewsaurus .saurus-prose a.btn:visited {
  color: #fff;
}
.btn:visited,
.btn {
  color: #fff;
  background-color: #007bff;
  border-color: #007bff;
  display: inline-block;
  font-weight: 400;
  text-align: center;
  white-space: nowrap;
  vertical-align: middle;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  border: 1px solid transparent;
  padding: .375rem .75rem;
  font-size: 1rem;
  line-height: 1.5;
  border-radius: .25rem;
  transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
}
</style><div data-title="SMS Application Walkthrough" class="chapter"><div data-title="Welcome!" data-file="../README.MD" data-highlight="11-61" class="step"><h2>Welcome to SMS Application Walk-through</h2><p>This walk-through of an SMS application will show you how to go about building a fully functional SMS application. In this walk-through you will learn:</p><ul><li>How to send an SMS message.</li><li>How to send an MMS message</li><li>How to track the delivery state of a message.</li><li>How to modify the message's read status.</li><li>How to delete messages.</li><li>How to receive and reply to an SMS message.</li></ul><h3>Other Languages</h3><p>This walk-through is also available in the following languages:</p><ul><li><a href="https://ringcentral-tutorials.github.io/sms-api-php-quickstart/">PHP</a></li><li><a href="https://ringcentral-tutorials.github.io/sms-api-node-quickstart/">Node</a></li><li><a href="https://ringcentral-tutorials.github.io/sms-api-python-demo/">Python</a></li></ul></div><div data-title="Setup Your Project" data-file="../sms-api-csharp-demo/Program.cs" data-highlight="12-19" class="step"><h2 id="clone-and-setup-the-project">Clone and Setup the project</h2>
<pre><code>$ git clone https://github.com/ringcentral-tutorials/sms-api-csharp-demo
$ cd sms-api-csharp-demo
$ open sms-api-csharp-demo.sln
</code></pre><p>Specify your app client id and client secret as well as account login credentials to the constant defined within the brackets &quot;&lt; &gt;&quot;.</p>
</div></div><div data-title="Sending an SMS" class="chapter"><div data-title="Sending an SMS" data-file="../sms-api-csharp-demo/Program.cs" data-highlight="23,29-43" class="step"><h2 id="sending-an-sms">Sending an SMS</h2>
<p>Let&#39;s create a function named <code>send_sms()</code> as shown on the right-hand side pane.</p>
<p>It is very convenient to access RingCentral platform using the <a href="https://github.com/ringcentral/RingCentral.Net">RingCentral.Net SDK</a>.</p>
<p>First, we create an instance of the RingCentral.Net SDK <code>RestClient</code> and passing along the client Id and client secret. We also specify the platform environment and in this demo, we set the last parameter to <strong>false</strong> to access the sandbox environment.</p>
<p>Then, we call the <code>Authorize</code> function to authenticate a user. In this step, we pass the username and password and optionally the extension number.</p>
<p>We need to verify if we&#39;ve logged in successfully by checking the <code>rc.token.access_token.Length</code> before we use the SDK to call platform APIs.</p>
<p>We create an instance of the <code>CreateSMSMessage</code> object and set the required query parameters, which include the <strong>from</strong>, <strong>to</strong> and the <strong>text</strong> message.</p>
<p>Finally, we call the <code>rc.Restapi().Account().Extension().Sms().Post(parameters);</code> method to send the message.</p>
<p>This code will work right out of the box. So let&#39;s try it out. Go to the Main function and uncomment the line <code>//send_sms().Wait();</code> then run the app.</p>
<p>You should see the message delivery status output to the screen, and shortly an SMS will arrive on the recipient&#39;s phone.</p>
<p>You have just successfully sent an SMS programmatically from your sandbox to a recipient.</p>
<h3 id="important">Important</h3>
<p>Bear in mind that you can only send SMS messages from a phone number which belongs to the user who is being authenticated to use the app.</p>
<p>Pay attention to the <code>parameters.to</code> which is an array. This means that you can specify multiple recipients to send a group message.</p>
</div></div><div data-title="Sending an SMS" class="chapter"><div data-title="Sending an MMS" data-file="../sms-api-csharp-demo/Program.cs" data-highlight="24,44-60" class="step"><h2 id="send-an-mms">Send an MMS</h2>
<p>Let&#39;s continue to create a function named <code>send_mms()</code> as shown on the right-hand side pane.</p>
<p>Sending an MMS message is very much similar to sending an SMS message, except we add content attachments to the text message.</p>
<p>We follow the same step to create an instance of the RingCentral.Net SDK <code>RestClient</code>, call the <code>Authorize</code> method and check the access token before sending a message.</p>
<p>In addition to specifying the <code>from</code>, <code>to</code> and the <code>text</code> query parameters, we create an <code>attachment</code> to hold the binary content and add the <code>attachments</code> to an array. This means that we can send multiple attachments in a single MMS message.</p>
<p>Finally, we call the <code>rc.Restapi().Account().Extension().Sms().Post(parameters, attachments);</code> method to send the message.</p>
<p>Let&#39;s try it out. Go to the Main function and uncomment the line <code>//send_mms().Wait();</code> then run the app.</p>
<p>You should see the message delivery status output to the screen, and shortly an MMS will arrive on the recipient&#39;s phone.</p>
<h3 id="ringcentral-supported-mms-content-types">RingCentral supported MMS content types</h3>
<ul>
<li>Images: jpg/jpeg, png, gif, bmp, tif/tiff, svg</li>
<li>Videos: 3gp, mp4, mpeg, flv, wmv, mov</li>
<li>Audio: mp3</li>
<li>Files: vcf/vcard, zip, rtf, html</li>
</ul>
<h3 id="message-size-limit">Message size limit</h3>
<p>The maximum size for MMS is carrier-dependent and normally around 1.2MB to 1.4MB.</p>
</div><div data-title="Track the delivery" data-file="../sms-api-csharp-demo/Program.cs" data-highlight="58,61-70" class="step"><h2 id="track-the-delivery-status-of-a-message">Track the delivery status of a message</h2>
<p>It takes some time for the system to send and deliver a message to a recipient. The delivery status of a particular message can be tracked using the <strong>message-store</strong> endpoint.</p>
<p>After sending the MMS message in the previous step, we call the <code>track_mms()</code> method, passing along the instance of the SDK, the <code>messageId</code> and the <code>messageStatus</code>.</p>
<p>Inside the <code>track_mms()</code> method, we implement a while loop and check if the <code>mesasgeStatus</code> value is equal to &quot;Queued&quot;, we cause a second delay then call the <code>MessageStore(id).Get()</code> method to read and print out the latest delivery status of the message.</p>
<p>Let&#39;s try it out. Uncomment the line <code>//track_mms(rc, resp.id, resp.messageStatus).Wait();</code> then run the app again.</p>
</div><div data-title="Modify the message history" data-file="../sms-api-csharp-demo/Program.cs" data-highlight="71-92" class="step"><h3 id="change-the-message-read-status">Change the message read status</h3>
<p>Every message has the <code>readStatus</code> as &quot;Read&quot; or &quot;Unread&quot;. We can retrieve a message metadata from the message store and change the <code>readStatus</code> as we want.</p>
<p>Let&#39;s implement the <code>retrieve_modify()</code> method.</p>
<p>To read the metadata of recent messages from the user&#39;s message store, we create an instance of the <code>ListMessagesParameters</code> object, set the <code>requestParams.readStatus</code> to &quot;Unread&quot; so we retrieve only recent unread messages from the message store. Then we call the <code>MessageStore().List(requestParams);</code></p>
<p>The JSON response <code>resp</code> contains an array or records. We iterate thru the records array, read the message id, create and instance of the <code>UpdateMessageRequest</code> object and set the <code>updateRequest.readStatus</code> to &quot;Read&quot;. Then we call the <code>MessageStore(messageId).Put(updateRequest);</code> to change the <code>readStatus</code> of that message.</p>
<p>Let&#39;s try it out. Go to the Main function and uncomment the line <code>//retrieve_modify().Wait();</code> then run the app.</p>
<h3 id="specify-other-request-parameters">Specify other request parameters</h3>
<p>You can set other request parameters such as the <code>requestParams.dateFrom</code> and <code>requestParams.dateTo</code> to retrieve messages created within the specified date and time period.</p>
</div><div data-title="Delete messages" data-file="../sms-api-csharp-demo/Program.cs" data-highlight="93-111" class="step"><h3 id="delete-messages">Delete messages</h3>
<p>Let&#39;s implement the <code>retrieve_delete()</code> method.</p>
<p>Similar to the previous step, we retrieve recent messages using the <code>readStatus</code> filter but this time, we read those messages which have the <code>readStatus</code> as &quot;Read&quot;.</p>
<p>Then we iterate thru the records array, read the message id, and call the <code>MessageStore(messageId).Delete();</code> to delete the message.</p>
<p>Let&#39;s try it out. Go to the Main function and uncomment the line <code>//retrieve_delete().Wait();</code> then run the app.</p>
</div></div><div data-title="Replying to SMS messages" class="chapter"><div data-title="Replying to SMS messages" data-file="../sms-api-csharp-demo/Program.cs" data-highlight="112-155" class="step"><p>In this step, you will learn how to listen to incoming SMS message, then reply with an SMS message to the sender of that incoming message.</p>
<h3 id="listen-to-incoming-sms-messages">Listen to incoming SMS messages</h3>
<p>Let&#39;s implement the <code>receive_reply()</code> method.</p>
<p>We follow the same step to create an instance of the RingCentral.Net SDK <code>RestClient</code>, call the <code>Authorize</code> method and check the access token before moving on to execute the codes.</p>
<p>First, we create an <code>eventFilters</code> array and add the filter &quot;/restapi/v1.0/account/~/extension/~/message-store/instant?type=SMS&quot; to receive SMS messages.</p>
<p>Then we create an instance of the <code>Subscription</code> object as shown on the right-hand side pane.</p>
<p>Next, we call the <code>subscription.Subscribe()</code> method to register for the event notification.</p>
<p>We also create a while loop to keep the process running so we can test the demo app. We use the <code>waitLoop</code> flag to terminate the process once we receive and reply a message.</p>
<h3 id="replying-to-an-sms-message">Replying to an SMS message</h3>
<p>When there is an incoming SMS message, we will receive the notification of an incoming SMS message via the callback &quot;message =&gt;&quot; function specified when we created the <code>Subscription</code> object. We load the <code>message</code> into a JSON object then parse the sender phone number.</p>
<p>Then finally, we create and send a reply message to the <code>senderNumber</code>.</p>
<p>Let&#39;s try it out. Go to the Main function and uncomment the line <code>//receive_reply().Wait();</code> then run the app.</p>
<h3 id="pubnub-notification-alternative">PubNub Notification Alternative</h3>
<p>The subscription we created above uses <a href="https://www.pubnub.com/">PubNub</a>.</p>
<p>There is also a <a href="https://developers.ringcentral.com/guide/notifications/quick-start/webhook/c-sharp">WebHook way to do subscription</a>. We won&#39;t dive into detail here. You can click the link to read more.</p>
<h2 id="congratulations-">Congratulations!</h2>
<p>And that&#39;s it. You should have successfully build a number of the components of an SMS application.</p>
</div></div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="../README.MD" data-mode="markdown">IyBNZXNzYWdlcyBBUEkgQyMgVHV0b3JpYWwKClshW0NvbW11bml0eV1bY29tbXVuaXR5LWltZ11dW2NvbW11bml0eS11cmxdClshW1R3aXR0ZXJdW3R3aXR0ZXItaW1nXV1bdHdpdHRlci11cmxdCgogW2NvbW11bml0eS1pbWddOiBodHRwczovL2ltZy5zaGllbGRzLmlvL2JhZGdlL2R5bmFtaWMvanNvbi5zdmc/bGFiZWw9Y29tbXVuaXR5JmNvbG9yQj0mc3VmZml4PSUyMHVzZXJzJnF1ZXJ5PSQuYXBwcm94aW1hdGVfcGVvcGxlX2NvdW50JnVyaT1odHRwJTNBJTJGJTJGYXBpLmdldHNhdGlzZmFjdGlvbi5jb20lMkZjb21wYW5pZXMlMkYxMDI5MDkuanNvbgogW2NvbW11bml0eS11cmxdOiBodHRwczovL2RldmNvbW11bml0eS5yaW5nY2VudHJhbC5jb20vcmluZ2NlbnRyYWxkZXYKIFt0d2l0dGVyLWltZ106IGh0dHBzOi8vaW1nLnNoaWVsZHMuaW8vdHdpdHRlci9mb2xsb3cvcmluZ2NlbnRyYWxkZXZzLnN2Zz9zdHlsZT1zb2NpYWwmbGFiZWw9Zm9sbG93CiBbdHdpdHRlci11cmxdOiBodHRwczovL3R3aXR0ZXIuY29tL1JpbmdDZW50cmFsRGV2cwoKQSB0dXRvcmlhbCB0byB0ZWFjaCB1c2VycyB0byB1c2UgUmluZ0NlbnRyYWwgTWVzc2FnZXMgQVBJLiBUaGUgZm9sbG93aW5nIHRvcGljcyBhcmUgaW5jbHVkZWQ6CgotIEhvdyB0byBzZW5kIFNNUwotIEhvdyB0byBzZW5kIE1NUwotIEhvdyB0byB0cmFjayBkZWxpdmVyeSBzdGF0dXMgb2YgbWVzc2FnZXMKLSBIb3cgdG8gbW9kaWZ5IHRoZSBtZXNzYWdlJ3MgcmVhZCBzdGF0dXMuCi0gSG93IHRvIGRlbGV0ZSBtZXNzYWdlcy4KLSBIb3cgdG8gcmVjZWl2ZSBhbmQgcmVwbHkgdG8gU01TIG1lc3NhZ2VzCgojIyMgQ2xvbmUgLSBTZXR1cCAtIFJ1biB0aGUgcHJvamVjdApgYGAKJCBnaXQgY2xvbmUgaHR0cHM6Ly9naXRodWIuY29tL3JpbmdjZW50cmFsLXR1dG9yaWFscy9zbXMtYXBpLWNzaGFycC1kZW1vCiQgY2Qgc21zLWFwaS1jc2hhcnAtZGVtbwokIG9wZW4gc21zLWFwaS1jc2hhcnAtZGVtby5zbG4KYGBgClNwZWNpZnkgeW91ciBhcHAgY2xpZW50IGlkIGFuZCBjbGllbnQgc2VjcmV0IGFzIHdlbGwgYXMgYWNjb3VudCBsb2dpbiBjcmVkZW50aWFscyB0byB0aGUgY29uc3RhbnQgZGVmaW5lZCB3aXRoaW4gdGhlIGJyYWNrZXRzICI8ID4iLgoKIyMjIyBIb3cgdG8gc2VuZCBTTVMKVW5jb21tZW50IHRoZSBmdW5jdGlvbiBjYWxsIGJlbG93IGFuZCBydW4gdGhlIGFwcApgYGAKc2VuZF9zbXMoKS5XYWl0KCk7CmBgYAojIyMjIEhvdyB0byBzZW5kIE1NUwpVbmNvbW1lbnQgdGhlIGZ1bmN0aW9uIGNhbGwgYmVsb3cgYW5kIHJ1biB0aGUgYXBwCmBgYApzZW5kX21tcygpLldhaXQoKTsKYGBgCiMjIyMgSG93IHRvIHRyYWNrIGRlbGl2ZXJ5IHN0YXR1cyBvZiBtZXNzYWdlcwpVbmNvbW1lbnQgdGhlIGZ1bmN0aW9uIGNhbGwgYmVsb3cgYW5kIHJ1biB0aGUgYXBwCmBgYAovL3RyYWNrX21tcyhyYywgcmVzcC5pZCwgcmVzcC5tZXNzYWdlU3RhdHVzKS5XYWl0KCk7CmBgYAojIyMjIEhvdyB0byByZXRyaWV2ZSBhbmQgbW9kaWZ5IG1lc3NhZ2UncyByZWFkIHN0YXR1cwpVbmNvbW1lbnQgdGhlIGZ1bmN0aW9uIGNhbGwgYmVsb3cgYW5kIHJ1biB0aGUgYXBwCmBgYAovL3JldHJpZXZlX21vZGlmeSgpLldhaXQoKTsKYGBgCiMjIyMgSG93IHRvIGRlbGV0ZSBtZXNzYWdlcwpVbmNvbW1lbnQgdGhlIGZ1bmN0aW9uIGNhbGwgYmVsb3cgYW5kIHJ1biB0aGUgYXBwCmBgYAovL3JldHJpZXZlX2RlbGV0ZSgpLldhaXQoKTsKYGBgCgojIyMjIEhvdyB0byByZWNlaXZlIGFuZCByZXBseSB0byBTTVMgbWVzc2FnZXMKVW5jb21tZW50IHRoZSBmdW5jdGlvbiBjYWxsIGJlbG93IGFuZCBydW4gdGhlIGFwcApgYGAKLy9yZWNlaXZlX3JlcGx5KCkuV2FpdCgpOwpgYGAKCiMjIFJpbmdDZW50cmFsIC5OZXQgU0RLClRoZSBTREsgaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9yaW5nY2VudHJhbC9yaW5nY2VudHJhbC5uZXQK</textarea>
<textarea class="saurus-file" data-file="../sms-api-csharp-demo/Program.cs" data-mode="csharp">77u/dXNpbmcgU3lzdGVtOw0KdXNpbmcgU3lzdGVtLklPOw0KdXNpbmcgU3lzdGVtLlRocmVhZGluZzsNCnVzaW5nIFN5c3RlbS5UaHJlYWRpbmcuVGFza3M7DQp1c2luZyBSaW5nQ2VudHJhbDsNCnVzaW5nIE5ld3RvbnNvZnQuSnNvbi5MaW5xOw0KDQpuYW1lc3BhY2Ugc21zX2FwaV9jc2hhcnBfZGVtbw0Kew0KICAgIGNsYXNzIFByb2dyYW0NCiAgICB7DQogICAgICAgIGNvbnN0IHN0cmluZyBSRUNJUElFTlQgPSAiPEVOVEVSIFBIT05FIE5VTUJFUj4iOw0KDQogICAgICAgIGNvbnN0IHN0cmluZyBSSU5HQ0VOVFJBTF9DTElFTlRJRCA9ICI8RU5URVIgQ0xJRU5UIElEPiI7DQogICAgICAgIGNvbnN0IHN0cmluZyBSSU5HQ0VOVFJBTF9DTElFTlRTRUNSRVQgPSAiPEVOVEVSIENMSUVOVCBTRUNSRVQ+IjsNCg0KICAgICAgICBjb25zdCBzdHJpbmcgUklOR0NFTlRSQUxfVVNFUk5BTUUgPSAiPFlPVVIgQUNDT1VOVCBQSE9ORSBOVU1CRVI+IjsNCiAgICAgICAgY29uc3Qgc3RyaW5nIFJJTkdDRU5UUkFMX1BBU1NXT1JEID0gIjxZT1VSIEFDQ09VTlQgUEFTU1dPUkQ+IjsNCiAgICAgICAgY29uc3Qgc3RyaW5nIFJJTkdDRU5UUkFMX0VYVEVOU0lPTiA9ICI8WU9VUiBFWFRFTlNJT04sIFBST0JBQkxZICI7DQogICAgICAgIHN0YXRpYyBib29sIHdhaXRMb29wID0gdHJ1ZTsNCiAgICAgICAgc3RhdGljIHZvaWQgTWFpbihzdHJpbmdbXSBhcmdzKQ0KICAgICAgICB7DQogICAgICAgICAgICAvL3NlbmRfc21zKCkuV2FpdCgpOw0KICAgICAgICAgICAgLy9zZW5kX21tcygpLldhaXQoKTsNCiAgICAgICAgICAgIC8vcmV0cmlldmVfbW9kaWZ5KCkuV2FpdCgpOw0KICAgICAgICAgICAgLy9yZXRyaWV2ZV9kZWxldGUoKS5XYWl0KCk7DQogICAgICAgICAgICByZWNlaXZlX3JlcGx5KCkuV2FpdCgpOw0KICAgICAgICB9DQogICAgICAgIHN0YXRpYyBwcml2YXRlIGFzeW5jIFRhc2sgc2VuZF9zbXMoKQ0KICAgICAgICB7DQogICAgICAgICAgICBSZXN0Q2xpZW50IHJjID0gbmV3IFJlc3RDbGllbnQoUklOR0NFTlRSQUxfQ0xJRU5USUQsIFJJTkdDRU5UUkFMX0NMSUVOVFNFQ1JFVCwgZmFsc2UpOw0KICAgICAgICAgICAgYXdhaXQgcmMuQXV0aG9yaXplKFJJTkdDRU5UUkFMX1VTRVJOQU1FLCBSSU5HQ0VOVFJBTF9FWFRFTlNJT04sIFJJTkdDRU5UUkFMX1BBU1NXT1JEKTsNCiAgICAgICAgICAgIGlmIChyYy50b2tlbi5hY2Nlc3NfdG9rZW4uTGVuZ3RoID4gMCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB2YXIgcGFyYW1ldGVycyA9IG5ldyBDcmVhdGVTTVNNZXNzYWdlKCk7DQogICAgICAgICAgICAgICAgcGFyYW1ldGVycy5mcm9tID0gbmV3IE1lc3NhZ2VTdG9yZUNhbGxlckluZm9SZXF1ZXN0IHsgcGhvbmVOdW1iZXIgPSBSSU5HQ0VOVFJBTF9VU0VSTkFNRSB9Ow0KICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMudG8gPSBuZXcgTWVzc2FnZVN0b3JlQ2FsbGVySW5mb1JlcXVlc3RbXSB7IG5ldyBNZXNzYWdlU3RvcmVDYWxsZXJJbmZvUmVxdWVzdCB7IHBob25lTnVtYmVyID0gUkVDSVBJRU5UIH0gfTsNCiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzLnRleHQgPSAiVGhpcyBpcyBhIHRlc3QgbWVzc2FnZSBmcm9tIEMjIjsNCg0KICAgICAgICAgICAgICAgIHZhciByZXNwID0gYXdhaXQgcmMuUmVzdGFwaSgpLkFjY291bnQoKS5FeHRlbnNpb24oKS5TbXMoKS5Qb3N0KHBhcmFtZXRlcnMpOw0KICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKCJTTVMgc2VudC4gTWVzc2FnZSBzdGF0dXM6ICIgKyByZXNwLm1lc3NhZ2VTdGF0dXMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHN0YXRpYyBwcml2YXRlIGFzeW5jIFRhc2sgc2VuZF9tbXMoKQ0KICAgICAgICB7DQogICAgICAgICAgICBSZXN0Q2xpZW50IHJjID0gbmV3IFJlc3RDbGllbnQoUklOR0NFTlRSQUxfQ0xJRU5USUQsIFJJTkdDRU5UUkFMX0NMSUVOVFNFQ1JFVCwgZmFsc2UpOw0KICAgICAgICAgICAgYXdhaXQgcmMuQXV0aG9yaXplKFJJTkdDRU5UUkFMX1VTRVJOQU1FLCBSSU5HQ0VOVFJBTF9FWFRFTlNJT04sIFJJTkdDRU5UUkFMX1BBU1NXT1JEKTsNCiAgICAgICAgICAgIGlmIChyYy50b2tlbi5hY2Nlc3NfdG9rZW4uTGVuZ3RoID4gMCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB2YXIgcGFyYW1ldGVycyA9IG5ldyBDcmVhdGVTTVNNZXNzYWdlKCk7DQogICAgICAgICAgICAgICAgcGFyYW1ldGVycy5mcm9tID0gbmV3IE1lc3NhZ2VTdG9yZUNhbGxlckluZm9SZXF1ZXN0IHsgcGhvbmVOdW1iZXIgPSBSSU5HQ0VOVFJBTF9VU0VSTkFNRSB9Ow0KICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMudG8gPSBuZXcgTWVzc2FnZVN0b3JlQ2FsbGVySW5mb1JlcXVlc3RbXSB7IG5ldyBNZXNzYWdlU3RvcmVDYWxsZXJJbmZvUmVxdWVzdCB7IHBob25lTnVtYmVyID0gUkVDSVBJRU5UIH0gfTsNCiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzLnRleHQgPSAiVGhpcyBpcyBhIHRlc3QgbWVzc2FnZSBmcm9tIEMjIjsNCiAgICAgICAgICAgICAgICB2YXIgYXR0YWNobWVudCA9IG5ldyBBdHRhY2htZW50IHsgZmlsZU5hbWUgPSAidGVzdC5qcGciLCBjb250ZW50VHlwZSA9ICJpbWFnZS9qcGVnIiwgYnl0ZXMgPSBGaWxlLlJlYWRBbGxCeXRlcygidGVzdC5qcGciKSB9Ow0KICAgICAgICAgICAgICAgIHZhciBhdHRhY2htZW50cyA9IG5ldyBBdHRhY2htZW50W10geyBhdHRhY2htZW50IH07DQogICAgICAgICAgICAgICAgdmFyIHJlc3AgPSBhd2FpdCByYy5SZXN0YXBpKCkuQWNjb3VudCgpLkV4dGVuc2lvbigpLlNtcygpLlBvc3QocGFyYW1ldGVycywgYXR0YWNobWVudHMpOw0KICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKCJNTVMgc2VudC4gTWVzc2FnZSBzdGF0dXM6ICIgKyByZXNwLm1lc3NhZ2VTdGF0dXMpOw0KICAgICAgICAgICAgICAgIC8vdHJhY2tfbW1zKHJjLCByZXNwLmlkLCByZXNwLm1lc3NhZ2VTdGF0dXMpLldhaXQoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBzdGF0aWMgcHJpdmF0ZSBhc3luYyBUYXNrIHRyYWNrX21tcyhSZXN0Q2xpZW50IHJjLCBTdHJpbmcgbWVzc2FnZUlkLCBTdHJpbmcgbWVzc2FnZVN0YXR1cykNCiAgICAgICAgew0KICAgICAgICAgICAgd2hpbGUobWVzc2FnZVN0YXR1cyA9PSAiUXVldWVkIikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgVGhyZWFkLlNsZWVwKDEwMDApOwogICAgICAgICAgICAgICAgdmFyIHJlc3AgPSBhd2FpdCByYy5SZXN0YXBpKCkuQWNjb3VudCgpLkV4dGVuc2lvbigpLk1lc3NhZ2VTdG9yZShtZXNzYWdlSWQpLkdldCgpOw0KICAgICAgICAgICAgICAgIG1lc3NhZ2VTdGF0dXMgPSByZXNwLm1lc3NhZ2VTdGF0dXM7DQogICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoIk1NUyBtZXNzYWdlIHN0YXR1cyBpcyAiICsgbWVzc2FnZVN0YXR1cyk7CiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBzdGF0aWMgcHJpdmF0ZSBhc3luYyBUYXNrIHJldHJpZXZlX21vZGlmeSgpCiAgICAgICAgewogICAgICAgICAgICBSZXN0Q2xpZW50IHJjID0gbmV3IFJlc3RDbGllbnQoUklOR0NFTlRSQUxfQ0xJRU5USUQsIFJJTkdDRU5UUkFMX0NMSUVOVFNFQ1JFVCwgZmFsc2UpOw0KICAgICAgICAgICAgYXdhaXQgcmMuQXV0aG9yaXplKFJJTkdDRU5UUkFMX1VTRVJOQU1FLCBSSU5HQ0VOVFJBTF9FWFRFTlNJT04sIFJJTkdDRU5UUkFMX1BBU1NXT1JEKTsNCiAgICAgICAgICAgIGlmIChyYy50b2tlbi5hY2Nlc3NfdG9rZW4uTGVuZ3RoID4gMCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdFBhcmFtcyA9IG5ldyBMaXN0TWVzc2FnZXNQYXJhbWV0ZXJzKCk7DQogICAgICAgICAgICAgICAgcmVxdWVzdFBhcmFtcy5yZWFkU3RhdHVzID0gbmV3IHN0cmluZ1tdIHsgIlVucmVhZCIgfTsNCiAgICAgICAgICAgICAgICB2YXIgcmVzcCA9IGF3YWl0IHJjLlJlc3RhcGkoKS5BY2NvdW50KCkuRXh0ZW5zaW9uKCkuTWVzc2FnZVN0b3JlKCkuTGlzdChyZXF1ZXN0UGFyYW1zKTsNCiAgICAgICAgICAgICAgICBpbnQgY291bnQgPSByZXNwLnJlY29yZHMuTGVuZ3RoOw0KICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKFN0cmluZy5Gb3JtYXQoIkdldCBnZXQgYSBsaXN0IG9mIHswfSBtZXNzYWdlcy4iLCBjb3VudCkpOw0KICAgICAgICAgICAgICAgIGZvcmVhY2ggKHZhciByZWNvcmQgaW4gcmVzcC5yZWNvcmRzKQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZUlkID0gcmVjb3JkLmlkOw0KICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlUmVxdWVzdCA9IG5ldyBVcGRhdGVNZXNzYWdlUmVxdWVzdCgpOw0KICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZXF1ZXN0LnJlYWRTdGF0dXMgPSAiUmVhZCI7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IHJjLlJlc3RhcGkoKS5BY2NvdW50KCkuRXh0ZW5zaW9uKCkuTWVzc2FnZVN0b3JlKG1lc3NhZ2VJZCkuUHV0KHVwZGF0ZVJlcXVlc3QpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZFN0YXR1cyA9IHJlc3VsdC5yZWFkU3RhdHVzOw0KICAgICAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiTWVzc2FnZSBzdGF0dXMgaGFzIGJlZW4gY2hhbmdlZCB0byAiICsgcmVhZFN0YXR1cyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQogICAgICAgIH0NCiAgICAgICAgc3RhdGljIHByaXZhdGUgYXN5bmMgVGFzayByZXRyaWV2ZV9kZWxldGUoKQ0KICAgICAgICB7DQogICAgICAgICAgICBSZXN0Q2xpZW50IHJjID0gbmV3IFJlc3RDbGllbnQoUklOR0NFTlRSQUxfQ0xJRU5USUQsIFJJTkdDRU5UUkFMX0NMSUVOVFNFQ1JFVCwgZmFsc2UpOw0KICAgICAgICAgICAgYXdhaXQgcmMuQXV0aG9yaXplKFJJTkdDRU5UUkFMX1VTRVJOQU1FLCBSSU5HQ0VOVFJBTF9FWFRFTlNJT04sIFJJTkdDRU5UUkFMX1BBU1NXT1JEKTsNCiAgICAgICAgICAgIGlmIChyYy50b2tlbi5hY2Nlc3NfdG9rZW4uTGVuZ3RoID4gMCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdFBhcmFtcyA9IG5ldyBMaXN0TWVzc2FnZXNQYXJhbWV0ZXJzKCk7DQogICAgICAgICAgICAgICAgcmVxdWVzdFBhcmFtcy5yZWFkU3RhdHVzID0gbmV3IHN0cmluZ1tdIHsgIlJlYWQiIH07DQogICAgICAgICAgICAgICAgdmFyIHJlc3AgPSBhd2FpdCByYy5SZXN0YXBpKCkuQWNjb3VudCgpLkV4dGVuc2lvbigpLk1lc3NhZ2VTdG9yZSgpLkxpc3QocmVxdWVzdFBhcmFtcyk7DQogICAgICAgICAgICAgICAgaW50IGNvdW50ID0gcmVzcC5yZWNvcmRzLkxlbmd0aDsNCiAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZShTdHJpbmcuRm9ybWF0KCJHZXQgZ2V0IGEgbGlzdCBvZiB7MH0gbWVzc2FnZXMuIiwgY291bnQpKTsNCiAgICAgICAgICAgICAgICBmb3JlYWNoICh2YXIgcmVjb3JkIGluIHJlc3AucmVjb3JkcykNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlSWQgPSByZWNvcmQuaWQ7DQogICAgICAgICAgICAgICAgICAgIGF3YWl0IHJjLlJlc3RhcGkoKS5BY2NvdW50KCkuRXh0ZW5zaW9uKCkuTWVzc2FnZVN0b3JlKG1lc3NhZ2VJZCkuRGVsZXRlKCk7DQogICAgICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKFN0cmluZy5Gb3JtYXQoIk1lc3NhZ2UgezB9IGhhcyBiZWVuIGRlbGV0ZWQuIiwgbWVzc2FnZUlkKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHN0YXRpYyBwcml2YXRlIGFzeW5jIFRhc2sgcmVjZWl2ZV9yZXBseSgpDQogICAgICAgIHsNCiAgICAgICAgICAgIFJlc3RDbGllbnQgcmMgPSBuZXcgUmVzdENsaWVudChSSU5HQ0VOVFJBTF9DTElFTlRJRCwgUklOR0NFTlRSQUxfQ0xJRU5UU0VDUkVULCBmYWxzZSk7DQogICAgICAgICAgICBhd2FpdCByYy5BdXRob3JpemUoUklOR0NFTlRSQUxfVVNFUk5BTUUsIFJJTkdDRU5UUkFMX0VYVEVOU0lPTiwgUklOR0NFTlRSQUxfUEFTU1dPUkQpOw0KICAgICAgICAgICAgaWYgKHJjLnRva2VuLmFjY2Vzc190b2tlbi5MZW5ndGggPiAwKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHRyeQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50RmlsdGVycyA9IG5ld1tdDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICIvcmVzdGFwaS92MS4wL2FjY291bnQvfi9leHRlbnNpb24vfi9tZXNzYWdlLXN0b3JlL2luc3RhbnQ/dHlwZT1TTVMiDQogICAgICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24ocmMsIGV2ZW50RmlsdGVycywgbWVzc2FnZSA9Pg0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljIGpzb25PYmogPSBKT2JqZWN0LlBhcnNlKG1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgc2VuZGVyTnVtYmVyID0ganNvbk9ialsiYm9keSJdWyJmcm9tIl1bInBob25lTnVtYmVyIl07CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJzID0gbmV3IENyZWF0ZVNNU01lc3NhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVycy5mcm9tID0gbmV3IE1lc3NhZ2VTdG9yZUNhbGxlckluZm9SZXF1ZXN0IHsgcGhvbmVOdW1iZXIgPSBSSU5HQ0VOVFJBTF9VU0VSTkFNRSB9OwogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzLnRvID0gbmV3IE1lc3NhZ2VTdG9yZUNhbGxlckluZm9SZXF1ZXN0W10geyBuZXcgTWVzc2FnZVN0b3JlQ2FsbGVySW5mb1JlcXVlc3QgeyBwaG9uZU51bWJlciA9IHNlbmRlck51bWJlciB9IH07CiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMudGV4dCA9ICJUaGlzIGlzIGFuIGF1dG9tYXRpYyByZXBseSI7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNwID0gcmMuUmVzdGFwaSgpLkFjY291bnQoKS5FeHRlbnNpb24oKS5TbXMoKS5Qb3N0KHBhcmFtZXRlcnMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoIlNlbmQgcmVwbHkgbWVzc2FnZSIpOwogICAgICAgICAgICAgICAgICAgICAgICB3YWl0TG9vcCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25JbmZvID0gYXdhaXQgc3Vic2NyaXB0aW9uLlN1YnNjcmliZSgpOw0KICAgICAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZShzdWJzY3JpcHRpb25JbmZvLmlkKTsNCiAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoIlN1YnNjcmliZWQiKTsNCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHdhaXRMb29wKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiV2FpdGluZyBmb3IgaW5jb21pbmcgdGV4dCBtZXNzYWdlIC4uLiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgVGhyZWFkLlNsZWVwKDUwMDApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGF3YWl0IHN1YnNjcmlwdGlvbi5SZXZva2UoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBleCkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKGV4KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9DQo=</textarea>
</div>
</div><div class="saurus-overview"><ul></ul></div></div><div class="saurus-code"><div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div><div class="saurus-editor"></div></div><div class="saurus-explorer"><div class="saurus-file-list"></div><div class="saurus-file-actions"><a href="https://github.com/ringcentral-tutorials/sms-api-csharp-demo" target="_blank" class="explorer-get-code"><i class="fa fa-lg fa-github-square"></i>View Code on GitHub</a><a href="https://github.com/ringcentral-tutorials/sms-api-csharp-demo/archive/master.zip" target="_blank" class="explorer-get-code"><i class="fa fa-lg icon-download"></i>Download Source Code</a></div></div></div></div><footer><div class="footer-content"><div class="footer-content-row layout-2-cols"><div class="footer-content-row-left"><div class="footer-logo"><a href="http://www.ringcentral.com"><span>Back to the main site</span></a></div></div><div class="footer-content-row-right"><ul class="footer-text-links"><li><a href="http://www.ringcentral.com/legal.html" target="_blank"><span>Legal</span></a></li><li><a href="http://www.ringcentral.com/security-statement.html" target="_blank"><span>Security Policy</span></a></li><li><a href="http://www.ringcentral.com/legal/privacy-policy.html" target="_blank"><span>Privacy Policy</span></a></li><li><a ng-href="https://devcommunity.ringcentral.com" target="_blank" href="https://devcommunity.ringcentral.com"><span>Community</span></a></li><li><a href="https://medium.com/ringcentral-developers" target="_blank"><span>Blog</span></a></li></ul></div></div><div class="footer-content-row footer-content-row-last layout-2-cols"><div class="footer-content-row-left"><span class="footer-copyright">Â© 1999-<span ng-bind="::main.nowObj|date:'yyyy'" class="footer-copyright-to ng-binding">2017</span> RingCentral, Inc. All rights reserved.</span></div><div class="footer-content-row-right"><div class="footer-image-links"><div class="footer-image-link footer-image-link-facebook"><a target="_blank" href="http://www.facebook.com/ringcentral"><i class="fa icon-facebook"></i></a></div><div class="footer-image-link footer-image-link-twitter"><a target="_blank" href="http://twitter.com/ringcentraldevs"><i class="fa icon-twitter"></i></a></div><div class="footer-image-link footer-image-link-google-plus"><a target="_blank" href="https://www.google.com/+ringcentral"><i class="fa icon-google_plus"></i></a></div><div class="footer-image-link footer-image-link-linkedin"><a target="_blank" href="http://www.linkedin.com/company/ringcentral"><i class="fa icon-linkedin"></i></a></div><div class="footer-image-link footer-image-link-youtube"><a target="_blank" href="http://www.youtube.com/ringcentral"><i class="fa icon-youtube"></i></a></div></div></div></div></div></footer></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script><script src="ace/ace.js"></script><script src="ace/theme-monokai.js"></script><script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script><script>window.tutorialName="SMS API C# Tutorial";</script><script src="viewsaurus.js"></script></body></html>